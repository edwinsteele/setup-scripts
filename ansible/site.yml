---
# Run this without mitogen. See
#  https://mitogen.networkgenomics.com/ansible_detailed.html#noteworthy-differences
- hosts: all
  gather_facts: no
  strategy: linear
  roles:
    - bootstrap

- hosts: all
  roles:
    - common
    - network
    - pf
    - mail_sender
    - esteele_acct

- hosts: webservers
  roles:
    - webhost

- hosts: firewalls
  roles:
    - firewall
  vars_files:
    - /Users/esteele/Code/local/ansible/roles/firewall/vars/private_vars.yml
    - /Users/esteele/Code/local/ansible/roles/firewall/vars/local_address_vars.yml

- hosts: all
  user: esteele
  roles:
    - esteele_contents
    - git
    - dotfiles
    - editor
